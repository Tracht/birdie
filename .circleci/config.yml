version: 2.1 
orbs: 
  node: circleci/node@3.0.0
  # heroku: circleci/heroku@0.0.10

jobs:
  backend: 
    executor:
      name: node/default

    working_directory: ~/birdie-test

    steps:
      - checkout
      - run: cd backend && npm install
      - run: cd backend && npm test
      
  front-end:
    executor:
      name: node/default

    working_directory: ~/birdie-test

    steps: 
      - checkout
      - run: cd front-end && npm install
      - run: cd front-end && npm test

workflows:
  test_my_app:
      jobs:
          - backend
          - front-end
  # heroku_deploy:
  #     jobs:
  #       - heroku/deploy-via-git