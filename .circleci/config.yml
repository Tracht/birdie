version: 2.1
orbs: 
  node: circleci/node@3.0.0

workflows: 
  version: 2
  concurrently: 
    jobs: 
      - backend
      - front-end

workflows:   
  node-tests:
    jobs:
    backend:
      working_directory: ~/birdie-test/backend
      steps:
      - type: checkout
      - run: cd backend/functions && npm install
      - run: cd backend/functions && npm run dev
      - run: cd backend/functions && npm test
      
    front-end:
      working_directory: ~/birdie-test/front-end
        steps: 
        - checkout: 
        - run: cd front-end && npm install
        - run: cd front-end && npm start
        - run: cd front-end && npm test